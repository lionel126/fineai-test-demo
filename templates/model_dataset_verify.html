{% extends "layout.html" %}
{% block content %}
<table>
    <thead class="sticky">
        <tr>
            <th colspan="{{ image_keys|length }}" style="text-align: left;">model: {{ model['id'] }}, name: {{ model['model_name'] }}, user: {{ model['user_id'] }}, gender: {{model['gender']}} 
                <br>status: {{ model['status'] }}, job_id: {{ model['job_id'] }}, birthday: {{ model['birthday'] }}</th>
            <th colspan="{{ job_keys|length }}" style="text-align: left;">{{job['job_kind']}}: {{ job['id'] }}<br>status: {{ job['status'] }}</th>
        </tr>
        <tr>
            {% for key in image_keys + job_keys %}
            <th>{{ key }}</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for image in images %}
        <tr class="{{ ['face_detection' if image['image_type'] == 'face_detection','deleted' if image['is_delete'] == True]|join(' ') }}">
            {% for key in  image_keys + job_keys %}
                {% if key not in ("url") %}
                <td class="{{ 'checked' if (key=='status' and image[key] == 'checked') or (key=='success' and image[key] == True) }}">{{ 'N/A' if (key=='tolerance' and image['image_type']=='face_detection') else image[key] }}</td>
                {% else %}
                <td><img src="{{ image[key] }}" onclick="zoomImage(this)"></td>
                {% endif %}
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}